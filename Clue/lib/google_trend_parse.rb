require 'json'
require 'awesome_print'

response = "// Data table response\ngoogle.visualization.Query.setResponse({\"version\":\"0.6\",\"status\":\"ok\",\"sig\":\"1858782353\",\"table\":{\"cols\":[{\"id\":\"date\",\"label\":\"Date\",\"type\":\"date\",\"pattern\":\"\"},{\"id\":\"query0\",\"label\":\"minimum wage\",\"type\":\"number\",\"pattern\":\"\"}],\"rows\":[{\"c\":[{\"v\":new Date(2014,7,10),\"f\":\"Sunday, August 10, 2014\"},{\"v\":31.0,\"f\":\"31\"}]},{\"c\":[{\"v\":new Date(2014,7,11),\"f\":\"Monday, August 11, 2014\"},{\"v\":39.0,\"f\":\"39\"}]},{\"c\":[{\"v\":new Date(2014,7,12),\"f\":\"Tuesday, August 12, 2014\"},{\"v\":38.0,\"f\":\"38\"}]},{\"c\":[{\"v\":new Date(2014,7,13),\"f\":\"Wednesday, August 13, 2014\"},{\"v\":42.0,\"f\":\"42\"}]},{\"c\":[{\"v\":new Date(2014,7,14),\"f\":\"Thursday, August 14, 2014\"},{\"v\":39.0,\"f\":\"39\"}]},{\"c\":[{\"v\":new Date(2014,7,15),\"f\":\"Friday, August 15, 2014\"},{\"v\":37.0,\"f\":\"37\"}]},{\"c\":[{\"v\":new Date(2014,7,16),\"f\":\"Saturday, August 16, 2014\"},{\"v\":28.0,\"f\":\"28\"}]},{\"c\":[{\"v\":new Date(2014,7,17),\"f\":\"Sunday, August 17, 2014\"},{\"v\":31.0,\"f\":\"31\"}]},{\"c\":[{\"v\":new Date(2014,7,18),\"f\":\"Monday, August 18, 2014\"},{\"v\":39.0,\"f\":\"39\"}]},{\"c\":[{\"v\":new Date(2014,7,19),\"f\":\"Tuesday, August 19, 2014\"},{\"v\":40.0,\"f\":\"40\"}]},{\"c\":[{\"v\":new Date(2014,7,20),\"f\":\"Wednesday, August 20, 2014\"},{\"v\":39.0,\"f\":\"39\"}]},{\"c\":[{\"v\":new Date(2014,7,21),\"f\":\"Thursday, August 21, 2014\"},{\"v\":37.0,\"f\":\"37\"}]},{\"c\":[{\"v\":new Date(2014,7,22),\"f\":\"Friday, August 22, 2014\"},{\"v\":32.0,\"f\":\"32\"}]},{\"c\":[{\"v\":new Date(2014,7,23),\"f\":\"Saturday, August 23, 2014\"},{\"v\":29.0,\"f\":\"29\"}]},{\"c\":[{\"v\":new Date(2014,7,24),\"f\":\"Sunday, August 24, 2014\"},{\"v\":28.0,\"f\":\"28\"}]},{\"c\":[{\"v\":new Date(2014,7,25),\"f\":\"Monday, August 25, 2014\"},{\"v\":34.0,\"f\":\"34\"}]},{\"c\":[{\"v\":new Date(2014,7,26),\"f\":\"Tuesday, August 26, 2014\"},{\"v\":39.0,\"f\":\"39\"}]},{\"c\":[{\"v\":new Date(2014,7,27),\"f\":\"Wednesday, August 27, 2014\"},{\"v\":40.0,\"f\":\"40\"}]},{\"c\":[{\"v\":new Date(2014,7,28),\"f\":\"Thursday, August 28, 2014\"},{\"v\":42.0,\"f\":\"42\"}]},{\"c\":[{\"v\":new Date(2014,7,29),\"f\":\"Friday, August 29, 2014\"},{\"v\":40.0,\"f\":\"40\"}]},{\"c\":[{\"v\":new Date(2014,7,30),\"f\":\"Saturday, August 30, 2014\"},{\"v\":30.0,\"f\":\"30\"}]},{\"c\":[{\"v\":new Date(2014,7,31),\"f\":\"Sunday, August 31, 2014\"},{\"v\":30.0,\"f\":\"30\"}]},{\"c\":[{\"v\":new Date(2014,8,1),\"f\":\"Monday, September 1, 2014\"},{\"v\":39.0,\"f\":\"39\"}]},{\"c\":[{\"v\":new Date(2014,8,2),\"f\":\"Tuesday, September 2, 2014\"},{\"v\":53.0,\"f\":\"53\"}]},{\"c\":[{\"v\":new Date(2014,8,3),\"f\":\"Wednesday, September 3, 2014\"},{\"v\":49.0,\"f\":\"49\"}]},{\"c\":[{\"v\":new Date(2014,8,4),\"f\":\"Thursday, September 4, 2014\"},{\"v\":64.0,\"f\":\"64\"}]},{\"c\":[{\"v\":new Date(2014,8,5),\"f\":\"Friday, September 5, 2014\"},{\"v\":59.0,\"f\":\"59\"}]},{\"c\":[{\"v\":new Date(2014,8,6),\"f\":\"Saturday, September 6, 2014\"},{\"v\":41.0,\"f\":\"41\"}]},{\"c\":[{\"v\":new Date(2014,8,7),\"f\":\"Sunday, September 7, 2014\"},{\"v\":37.0,\"f\":\"37\"}]},{\"c\":[{\"v\":new Date(2014,8,8),\"f\":\"Monday, September 8, 2014\"},{\"v\":50.0,\"f\":\"50\"}]},{\"c\":[{\"v\":new Date(2014,8,9),\"f\":\"Tuesday, September 9, 2014\"},{\"v\":49.0,\"f\":\"49\"}]},{\"c\":[{\"v\":new Date(2014,8,10),\"f\":\"Wednesday, September 10, 2014\"},{\"v\":51.0,\"f\":\"51\"}]},{\"c\":[{\"v\":new Date(2014,8,11),\"f\":\"Thursday, September 11, 2014\"},{\"v\":46.0,\"f\":\"46\"}]},{\"c\":[{\"v\":new Date(2014,8,12),\"f\":\"Friday, September 12, 2014\"},{\"v\":42.0,\"f\":\"42\"}]},{\"c\":[{\"v\":new Date(2014,8,13),\"f\":\"Saturday, September 13, 2014\"},{\"v\":33.0,\"f\":\"33\"}]},{\"c\":[{\"v\":new Date(2014,8,14),\"f\":\"Sunday, September 14, 2014\"},{\"v\":36.0,\"f\":\"36\"}]},{\"c\":[{\"v\":new Date(2014,8,15),\"f\":\"Monday, September 15, 2014\"},{\"v\":44.0,\"f\":\"44\"}]},{\"c\":[{\"v\":new Date(2014,8,16),\"f\":\"Tuesday, September 16, 2014\"},{\"v\":45.0,\"f\":\"45\"}]},{\"c\":[{\"v\":new Date(2014,8,17),\"f\":\"Wednesday, September 17, 2014\"},{\"v\":46.0,\"f\":\"46\"}]},{\"c\":[{\"v\":new Date(2014,8,18),\"f\":\"Thursday, September 18, 2014\"},{\"v\":44.0,\"f\":\"44\"}]},{\"c\":[{\"v\":new Date(2014,8,19),\"f\":\"Friday, September 19, 2014\"},{\"v\":39.0,\"f\":\"39\"}]},{\"c\":[{\"v\":new Date(2014,8,20),\"f\":\"Saturday, September 20, 2014\"},{\"v\":32.0,\"f\":\"32\"}]},{\"c\":[{\"v\":new Date(2014,8,21),\"f\":\"Sunday, September 21, 2014\"},{\"v\":46.0,\"f\":\"46\"}]},{\"c\":[{\"v\":new Date(2014,8,22),\"f\":\"Monday, September 22, 2014\"},{\"v\":47.0,\"f\":\"47\"}]},{\"c\":[{\"v\":new Date(2014,8,23),\"f\":\"Tuesday, September 23, 2014\"},{\"v\":44.0,\"f\":\"44\"}]},{\"c\":[{\"v\":new Date(2014,8,24),\"f\":\"Wednesday, September 24, 2014\"},{\"v\":47.0,\"f\":\"47\"}]},{\"c\":[{\"v\":new Date(2014,8,25),\"f\":\"Thursday, September 25, 2014\"},{\"v\":45.0,\"f\":\"45\"}]},{\"c\":[{\"v\":new Date(2014,8,26),\"f\":\"Friday, September 26, 2014\"},{\"v\":41.0,\"f\":\"41\"}]},{\"c\":[{\"v\":new Date(2014,8,27),\"f\":\"Saturday, September 27, 2014\"},{\"v\":31.0,\"f\":\"31\"}]},{\"c\":[{\"v\":new Date(2014,8,28),\"f\":\"Sunday, September 28, 2014\"},{\"v\":33.0,\"f\":\"33\"}]},{\"c\":[{\"v\":new Date(2014,8,29),\"f\":\"Monday, September 29, 2014\"},{\"v\":47.0,\"f\":\"47\"}]},{\"c\":[{\"v\":new Date(2014,8,30),\"f\":\"Tuesday, September 30, 2014\"},{\"v\":53.0,\"f\":\"53\"}]},{\"c\":[{\"v\":new Date(2014,9,1),\"f\":\"Wednesday, October 1, 2014\"},{\"v\":77.0,\"f\":\"77\"}]},{\"c\":[{\"v\":new Date(2014,9,2),\"f\":\"Thursday, October 2, 2014\"},{\"v\":56.0,\"f\":\"56\"}]},{\"c\":[{\"v\":new Date(2014,9,3),\"f\":\"Friday, October 3, 2014\"},{\"v\":48.0,\"f\":\"48\"}]},{\"c\":[{\"v\":new Date(2014,9,4),\"f\":\"Saturday, October 4, 2014\"},{\"v\":35.0,\"f\":\"35\"}]},{\"c\":[{\"v\":new Date(2014,9,5),\"f\":\"Sunday, October 5, 2014\"},{\"v\":36.0,\"f\":\"36\"}]},{\"c\":[{\"v\":new Date(2014,9,6),\"f\":\"Monday, October 6, 2014\"},{\"v\":49.0,\"f\":\"49\"}]},{\"c\":[{\"v\":new Date(2014,9,7),\"f\":\"Tuesday, October 7, 2014\"},{\"v\":49.0,\"f\":\"49\"}]},{\"c\":[{\"v\":new Date(2014,9,8),\"f\":\"Wednesday, October 8, 2014\"},{\"v\":48.0,\"f\":\"48\"}]},{\"c\":[{\"v\":new Date(2014,9,9),\"f\":\"Thursday, October 9, 2014\"},{\"v\":45.0,\"f\":\"45\"}]},{\"c\":[{\"v\":new Date(2014,9,10),\"f\":\"Friday, October 10, 2014\"},{\"v\":43.0,\"f\":\"43\"}]},{\"c\":[{\"v\":new Date(2014,9,11),\"f\":\"Saturday, October 11, 2014\"},{\"v\":34.0,\"f\":\"34\"}]},{\"c\":[{\"v\":new Date(2014,9,12),\"f\":\"Sunday, October 12, 2014\"},{\"v\":33.0,\"f\":\"33\"}]},{\"c\":[{\"v\":new Date(2014,9,13),\"f\":\"Monday, October 13, 2014\"},{\"v\":42.0,\"f\":\"42\"}]},{\"c\":[{\"v\":new Date(2014,9,14),\"f\":\"Tuesday, October 14, 2014\"},{\"v\":45.0,\"f\":\"45\"}]},{\"c\":[{\"v\":new Date(2014,9,15),\"f\":\"Wednesday, October 15, 2014\"},{\"v\":47.0,\"f\":\"47\"}]},{\"c\":[{\"v\":new Date(2014,9,16),\"f\":\"Thursday, October 16, 2014\"},{\"v\":45.0,\"f\":\"45\"}]},{\"c\":[{\"v\":new Date(2014,9,17),\"f\":\"Friday, October 17, 2014\"},{\"v\":42.0,\"f\":\"42\"}]},{\"c\":[{\"v\":new Date(2014,9,18),\"f\":\"Saturday, October 18, 2014\"},{\"v\":29.0,\"f\":\"29\"}]},{\"c\":[{\"v\":new Date(2014,9,19),\"f\":\"Sunday, October 19, 2014\"},{\"v\":34.0,\"f\":\"34\"}]},{\"c\":[{\"v\":new Date(2014,9,20),\"f\":\"Monday, October 20, 2014\"},{\"v\":46.0,\"f\":\"46\"}]},{\"c\":[{\"v\":new Date(2014,9,21),\"f\":\"Tuesday, October 21, 2014\"},{\"v\":44.0,\"f\":\"44\"}]},{\"c\":[{\"v\":new Date(2014,9,22),\"f\":\"Wednesday, October 22, 2014\"},{\"v\":49.0,\"f\":\"49\"}]},{\"c\":[{\"v\":new Date(2014,9,23),\"f\":\"Thursday, October 23, 2014\"},{\"v\":45.0,\"f\":\"45\"}]},{\"c\":[{\"v\":new Date(2014,9,24),\"f\":\"Friday, October 24, 2014\"},{\"v\":42.0,\"f\":\"42\"}]},{\"c\":[{\"v\":new Date(2014,9,25),\"f\":\"Saturday, October 25, 2014\"},{\"v\":33.0,\"f\":\"33\"}]},{\"c\":[{\"v\":new Date(2014,9,26),\"f\":\"Sunday, October 26, 2014\"},{\"v\":35.0,\"f\":\"35\"}]},{\"c\":[{\"v\":new Date(2014,9,27),\"f\":\"Monday, October 27, 2014\"},{\"v\":44.0,\"f\":\"44\"}]},{\"c\":[{\"v\":new Date(2014,9,28),\"f\":\"Tuesday, October 28, 2014\"},{\"v\":45.0,\"f\":\"45\"}]},{\"c\":[{\"v\":new Date(2014,9,29),\"f\":\"Wednesday, October 29, 2014\"},{\"v\":46.0,\"f\":\"46\"}]},{\"c\":[{\"v\":new Date(2014,9,30),\"f\":\"Thursday, October 30, 2014\"},{\"v\":42.0,\"f\":\"42\"}]},{\"c\":[{\"v\":new Date(2014,9,31),\"f\":\"Friday, October 31, 2014\"},{\"v\":36.0,\"f\":\"36\"}]},{\"c\":[{\"v\":new Date(2014,10,1),\"f\":\"Saturday, November 1, 2014\"},{\"v\":28.0,\"f\":\"28\"}]},{\"c\":[{\"v\":new Date(2014,10,2),\"f\":\"Sunday, November 2, 2014\"},{\"v\":30.0,\"f\":\"30\"}]},{\"c\":[{\"v\":new Date(2014,10,3),\"f\":\"Monday, November 3, 2014\"},{\"v\":51.0,\"f\":\"51\"}]},{\"c\":[{\"v\":new Date(2014,10,4),\"f\":\"Tuesday, November 4, 2014\"},{\"v\":53.0,\"f\":\"53\"}]},{\"c\":[{\"v\":new Date(2014,10,5),\"f\":\"Wednesday, November 5, 2014\"},{\"v\":100.0,\"f\":\"100\"}]},{\"c\":[{\"v\":new Date(2014,10,6),\"f\":\"Thursday, November 6, 2014\"},{\"v\":65.0,\"f\":\"65\"}]},{\"c\":[{\"v\":new Date(2014,10,7),\"f\":\"Friday, November 7, 2014\"},{\"v\":null}]},{\"c\":[{\"v\":new Date(2014,10,8),\"f\":\"Saturday, November 8, 2014\"},{\"v\":null}]},{\"c\":[{\"v\":new Date(2014,10,9),\"f\":\"Sunday, November 9, 2014\"},{\"v\":null}]}]}});"

# ap JSON.parse(response[(response.index(/\(/)+1)..-3])
filtered = response.match(/[(].*/).to_s
filtered = filtered.gsub(/(new Date)\D\d{4}\D\d{1,2}\D\d{1,2}\D/)  { |s| s = '"' + s + '"' }
filtered = filtered[1..-3]
response_JSON = JSON.parse(filtered)

response_JSON["table"]["rows"].each do |row|
	cell = row["c"]
	p cell[0]["f"]
	p cell[1]["f"]
end